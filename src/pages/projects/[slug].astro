---
import Layout from "../../layouts/Layout.astro";
// Get the slug from the URL
export async function getStaticPaths() {
  const projects = await import("../../data/projects.ts").then(
    (module) => module.default,
  );
  return projects.map((project) => ({
    params: { slug: project.slug },
    props: { project },
  }));
}

// Props from getStaticPaths
export interface Props {
  project: {
    title: string;
    description: string;
    slug: string;
    image: string;
  };
}
const { project } = Astro.props;
---

<Layout>
  <article>
    <h1>{project.title}</h1>
    <img src={project.image} alt={project.title} />
    <p>{project.description}</p>
  </article>
</Layout>
